!function(){"use strict";var t=document.documentElement,e=document.body,o=document.getElementById("toc"),n=document.getElementById("backTop"),l=document.getElementById("toolbox-mobile"),i=document.getElementById("cover"),c=document.getElementById("close"),s=document.getElementById("modal-dialog"),a=0;if(function(){if(n&&((a=e.scrollTop||t.scrollTop)>10?Util.addClass(n,"show"):Util.removeClass(n,"show")),o){if(parseInt(window.getComputedStyle(o).height,10)+20>document.documentElement.clientHeight)return;(a=e.scrollTop||t.scrollTop)>180?Util.addClass(o,"fixed"):Util.removeClass(o,"fixed")}}(),document.addEventListener("DOMContentLoaded",function(){FastClick.attach(document.body)},!1),window.noZensmooth=!0,scrollSpy.init({nodeList:document.querySelectorAll(".toc-link"),scrollTarget:window}),Util.bind(window,"scroll",function(){if(a=e.scrollTop||t.scrollTop,o){if(parseInt(window.getComputedStyle(o).height,10)+20>document.documentElement.clientHeight)return;a>180?Util.addClass(o,"fixed"):Util.removeClass(o,"fixed")}n&&(a>10?Util.addClass(n,"show"):Util.removeClass(n,"show"))}),n&&Util.bind(n,"click",function(){zenscroll.to(e)}),o){o=document.getElementById("toc");var r=document.querySelectorAll(".toc-link");Array.prototype.slice.call(r).forEach(function(t){Util.bind(t,"click",function(t){var e=document.getElementById(this.hash.substring(1));zenscroll.to(e),t.preventDefault()})})}function d(t,e){return t=t.replace(/<[^>]*>/g,""),e.forEach(function(e){var o=new RegExp("("+e+")","ig");t=t.replace(o,'<span class="color-hightlight">$1</span>')}),t}function u(){Util.addClass(s,"hide-dialog"),Util.removeClass(s,"show-dialog"),Util.addClass(i,"hide"),Util.removeClass(i,"show")}l&&(Util.bind(l,"click",function(){Util.addClass(s,"show-dialog"),Util.removeClass(s,"hide-dialog"),Util.addClass(i,"show"),Util.removeClass(i,"hide")}),Util.bind(i,"click",u),Util.bind(c,"click",u)),"/search/"===location.pathname&&Util.request("GET","/search.json",function(t){var e=document.getElementById("input-search");Util.bind(e,"keyup",function(){var e=this.value.trim().toLowerCase().split(/[\s\-]+/);if(!(this.value.trim().length<=0)){var o=function(t,e){var o=[];return t.forEach(function(t){var n=!1,l=[];t.content=t.content.replace(/<[^>]*>/g,""),e.forEach(function(e){var o=new RegExp(e,"i"),i=t.title.search(o),c=t.content.search(o);(i>-1||c>-1)&&(n=!0,l.push(e))}),n&&(t.matchKeyWords=l,o.push(t))}),o}(t,e);document.getElementById("list-search").innerHTML=function(t){var e="";return t.forEach(function(t){var o;o=function(t,e){var o=!1,n=0;return e.forEach(function(e){var l=new RegExp(e,"i");(n=t.search(l))<0||(o=!0)}),t=o?n<120?t.substr(0,140):t.substr(n-60,200):t.substr(0,120)}(o=d(t.content,t.matchKeyWords),t.matchKeyWords),t.title=d(t.title,t.matchKeyWords),t='<li class="item"><a href="'+t.url+'"" target="_blank"><h3 class="title">'+t.title+'</h3></a><p class="post-content">'+o+"</h3></li>",e+=t}),e}(o)}})})}();