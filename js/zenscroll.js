!function(t,e){"function"==typeof define&&define.amd?define([],e()):"object"==typeof module&&module.exports?module.exports=e():t.zenscroll=e()}(this,function(){"use strict";var t=function(t,e,o){var n;e=e||500,o&&0===o||(o=9);var i=document.documentElement,r=function(){return t?t.scrollTop:window.scrollY||i.scrollTop},c=function(){return t?Math.min(t.offsetHeight,window.innerHeight):window.innerHeight||i.clientHeight},u=function(e){return t?e.offsetTop-t.offsetTop:e.getBoundingClientRect().top+r()-i.offsetTop},l=function(){clearTimeout(n),n=0},a=function(o,u){if(l(),"getComputedStyle"in window&&"smooth"===window.getComputedStyle(t||document.body)["scroll-behavior"])(t||window).scrollTo(0,o);else{var a=r(),f=Math.max(o,0)-a;u=u||Math.min(Math.abs(f),e);var s=(new Date).getTime();!function e(){n=setTimeout(function(){var o=Math.min(((new Date).getTime()-s)/u,1),n=Math.max(Math.floor(a+f*(o<.5?2*o*o:o*(4-2*o)-1)),0);t?t.scrollTop=n:window.scrollTo(0,n),o<1&&c()+n<(t||i).scrollHeight?e():setTimeout(l,99)},5)}()}},f=function(t,e){a(u(t)-o,e)};return{setup:function(t,n){t&&(e=t),(0===n||n)&&(o=n)},to:f,toY:a,intoView:function(t,e){var n=t.getBoundingClientRect().height+2*o,i=c(),l=u(t),s=l+n,d=r();l-d<o||n>i?f(t,e):d+i-s<o&&a(s-i,e)},center:function(t,e,o){a(Math.max(u(t)-c()/2+(o||t.getBoundingClientRect().height/2),0),e)},stop:l,moving:function(){return!!n}}},e=t();if("addEventListener"in window&&"smooth"!==document.body.style.scrollBehavior&&!window.noZensmooth){var o=function(t){try{history.replaceState({},"",window.location.href.split("#")[0]+t)}catch(t){}};window.addEventListener("click",function(t){for(var n=t.target;n&&"A"!==n.tagName;)n=n.parentNode;if(!(!n||1!==t.which||t.shiftKey||t.metaKey||t.ctrlKey||t.altKey)){var i=n.getAttribute("href")||"";if(0===i.indexOf("#"))if("#"===i)t.preventDefault(),e.toY(0),o("");else{var r=n.hash.substring(1),c=document.getElementById(r);c&&(t.preventDefault(),e.to(c),o("#"+r))}}},!1)}return{createScroller:t,setup:e.setup,to:e.to,toY:e.toY,intoView:e.intoView,center:e.center,stop:e.stop,moving:e.moving}});