<!DOCTYPE html><html class="light page-post"><head><meta name="generator" content="Hexo 3.8.0"><meta charset="utf-8"><title>ES6‚Äôs Function Destructuring Assignment Is Not A Free Lunch. | Ankur Anand</title><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1"><link rel="canonical" href="http://blog.ankuranand.com/2018/06/29/es6s-function-destructuring-assignment-is-not-free-lunch/"><meta name="title" content="ES6‚Äôs Function Destructuring Assignment Is Not A Free Lunch."><meta name="referrer" content="unsafe-url"><meta name="author" content="Ankur Anand"><meta name="keywords" content="JavaScript,"><meta name="description" content="I completely agree with the fact that ‚Äúpremature optimization is the root of all evil (or at least most of it) in programming‚Äù. But it makes no harm sometimes to know the bits of your code that you wr"><meta name="keywords" content="JavaScript"><meta property="og:type" content="article"><meta property="og:title" content="ES6‚Äôs Function Destructuring Assignment Is Not A Free Lunch."><meta property="og:url" content="http://blog.ankuranand.com/2018/06/29/es6s-function-destructuring-assignment-is-not-free-lunch/"><meta property="og:site_name" content="Ankur Anand"><meta property="og:description" content="I completely agree with the fact that ‚Äúpremature optimization is the root of all evil (or at least most of it) in programming‚Äù. But it makes no harm sometimes to know the bits of your code that you wr"><meta property="og:locale" content="en"><meta property="og:image" content="https://cdn-images-1.medium.com/max/1600/1*mRrsOe5Amw2b0do42y9Oww.png"><meta property="og:image" content="https://cdn-images-1.medium.com/max/1600/1*04yjvLJeNoC4p7AHmzwSww.png"><meta property="og:updated_time" content="2019-05-31T19:09:18.910Z"><meta name="twitter:card" content="summary_large_image"><meta name="twitter:title" content="ES6‚Äôs Function Destructuring Assignment Is Not A Free Lunch."><meta name="twitter:description" content="I completely agree with the fact that ‚Äúpremature optimization is the root of all evil (or at least most of it) in programming‚Äù. But it makes no harm sometimes to know the bits of your code that you wr"><meta name="twitter:image" content="https://cdn-images-1.medium.com/max/1600/1*mRrsOe5Amw2b0do42y9Oww.png"><meta name="twitter:creator" content="@in_aanand"><meta property="article:author" content="https://ankuranand.com/"><meta name="robots" content="index, follow"><link rel="icon" href="/images/favicon.png"><link href="/css/styles.css?v=c114cbeddx" rel="stylesheet"><link rel="stylesheet" href="/css/personal-style.css"></head></html><body><span id="toolbox-mobile" class="toolbox-mobile">Blog</span><div class="post-header CENTER"><div class="toolbox"><a class="toolbox-entry" href="/"><span class="toolbox-entry-text">Blog</span> <i class="icon-angle-down"></i> <i class="icon-home"></i></a><ul class="list-toolbox"><li class="item-toolbox"><a class="CIRCLE" href="https://ankuranand.com" rel="noopener noreferrer" target="_self">About</a></li><li class="item-toolbox"><a class="CIRCLE" href="/atom.xml" rel="noopener noreferrer" target="_blank">RSS</a></li><li class="item-toolbox"><a class="CIRCLE" href="/search/" rel="noopener noreferrer" target="_self">Search</a></li></ul></div></div><div class="content content-post CENTER"><article id="post-es6s-function-destructuring-assignment-is-not-free-lunch" class="article article-type-post" itemprop="blogPost"><header class="article-header"><h1 class="post-title">ES6‚Äôs Function Destructuring Assignment Is Not A Free Lunch.</h1><div class="article-meta"><span><i class="icon-calendar"></i> <span>2018.06.29</span> </span><span class="article-author"><i class="icon-user"></i> <span>Ankur Anand</span> </span><span class="article-category"><i class="icon-list"></i> <a class="article-category-link" href="/categories/JavaScript/">JavaScript</a></span></div></header><div class="article-content"><p>I completely agree with the fact that ‚Äúpremature optimization is the root of all evil (or at least most of it) in programming‚Äù. But it makes no harm sometimes to know the bits of your code that you write and how it affects the environment for which you are writing your code.</p><p>This post is more about learning some of these bits of JavaScript, especially in Node.js environment with v8 core not to favour this micro-optimization because business code is still more concerned about readability and maintainability.</p><p>So what exactly we are looking at?. For the legibility of the remaining article, we are comparing the ES6 way of destructing assignment and traditional way of passing parameters inside a function, from a perspective of its impact on performance CPU/Memory.</p><p><img src="https://cdn-images-1.medium.com/max/1600/1*mRrsOe5Amw2b0do42y9Oww.png" alt="ES6‚Äôs Function Destructuring vs function parameters Syntax"></p><h2 id="Dissecting-the-performance-from-the-V8-bytecode"><a href="#Dissecting-the-performance-from-the-V8-bytecode" class="headerlink" title="Dissecting the performance from the V8 bytecode."></a>Dissecting the performance from the V8 bytecode.</h2><p>Let‚Äôs look at the byte code of <em>function parameters</em> of the below sample code.</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">add</span>(<span class="params">number1, number2</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> number1 + number2;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> result = add(<span class="number">1</span>, <span class="number">5</span>);</span><br></pre></td></tr></table></figure><p>ByteCode:</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">[generating bytecode <span class="keyword">for</span> <span class="keyword">function</span>: add]</span><br><span class="line">Parameter count 3</span><br><span class="line">Frame size 0</span><br><span class="line">   74 E&gt; 0x2a2a0affd2a2 @    0 : 91                StackCheck</span><br><span class="line">   96 S&gt; 0x2a2a0affd2a3 @    1 : 1d 02             Ldar a1</span><br><span class="line">  111 E&gt; 0x2a2a0affd2a5 @    3 : 2b 03 00          Add a0, [0]</span><br><span class="line">  121 S&gt; 0x2a2a0affd2a8 @    6 : 95                Return</span><br><span class="line">Constant pool (size = 0)</span><br><span class="line">Handler Table (size = 16)</span><br></pre></td></tr></table></figure><p>So in the case of V8 have only 2 core instruction to execute <code>Ldar a1</code> and <code>Add a0,[0]</code>.</p><p>Let‚Äôs us rewrite the above <code>add</code> function using the <em>ES6‚Äôs Function Destructuring Assignment.</em></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">add</span>(<span class="params">&#123; number1, number2 &#125;</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> number1 + number2;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> result = add(&#123; <span class="attr">number1</span>: <span class="number">1</span>, <span class="attr">number2</span>: <span class="number">5</span> &#125;);</span><br></pre></td></tr></table></figure><p>ByteCode:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">[generating bytecode for function: add]</span><br><span class="line">Parameter count 2</span><br><span class="line">Frame size 40</span><br><span class="line">   74 E&gt; 0x2c1d63b7d312 @    0 : 91                StackCheck</span><br><span class="line">         0x2c1d63b7d313 @    1 : 1f 02 fb          Mov a0, r0</span><br><span class="line">         0x2c1d63b7d316 @    4 : 1d fb             Ldar r0</span><br><span class="line">         0x2c1d63b7d318 @    6 : 89 06             JumpIfUndefined [6] (0x2c1d63b7d31e @ 12)</span><br><span class="line">         0x2c1d63b7d31a @    8 : 1d fb             Ldar r0</span><br><span class="line">         0x2c1d63b7d31c @   10 : 88 10             JumpIfNotNull [16] (0x2c1d63b7d32c @ 26)</span><br><span class="line">         0x2c1d63b7d31e @   12 : 03 3f             LdaSmi [63]</span><br><span class="line">         0x2c1d63b7d320 @   14 : 1e f8             Star r3</span><br><span class="line">         0x2c1d63b7d322 @   16 : 09 00             LdaConstant [0]</span><br><span class="line">         0x2c1d63b7d324 @   18 : 1e f7             Star r4</span><br><span class="line">         0x2c1d63b7d326 @   20 : 53 e8 00 f8 02    CallRuntime [NewTypeError], r3-r4</span><br><span class="line">   76 E&gt; 0x2c1d63b7d32b @   25 : 93                Throw</span><br><span class="line">   76 S&gt; 0x2c1d63b7d32c @   26 : 20 fb 00 02       LdaNamedProperty r0, [0], [2]</span><br><span class="line">         0x2c1d63b7d330 @   30 : 1e fa             Star r1</span><br><span class="line">   85 S&gt; 0x2c1d63b7d332 @   32 : 20 fb 01 04       LdaNamedProperty r0, [1], [4]</span><br><span class="line">         0x2c1d63b7d336 @   36 : 1e f9             Star r2</span><br><span class="line">   98 S&gt; 0x2c1d63b7d338 @   38 : 1d f9             Ldar r2</span><br><span class="line">  113 E&gt; 0x2c1d63b7d33a @   40 : 2b fa 06          Add r1, [6]</span><br><span class="line">  123 S&gt; 0x2c1d63b7d33d @   43 : 95                Return</span><br><span class="line">Constant pool (size = 2)</span><br><span class="line">Handler Table (size = 16)</span><br></pre></td></tr></table></figure><blockquote><p>In the case of ES6‚Äôs Function Destructuring Assignment we can see that the byteCode has increased significantly from 4 to 19 where most of the them are <code>JumpIfUndefined</code>, <code>CallRuntime</code>, <code>Throw</code> instructions.</p></blockquote><h2 id="Dissecting-the-performance-w-r-t-the-memory"><a href="#Dissecting-the-performance-w-r-t-the-memory" class="headerlink" title="Dissecting the performance w.r.t the memory."></a>Dissecting the performance w.r.t the memory.</h2><p>Generating too many function call to trace the GC.</p><p><em>function parameters</em></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">add</span>(<span class="params">a,b</span>) </span>&#123;</span><br><span class="line"> <span class="keyword">return</span> a + b</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; <span class="number">1e8</span>; i++)&#123;</span><br><span class="line"> <span class="keyword">const</span> d = add(<span class="number">1</span>,<span class="number">2</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(%GetHeapUsage())</span><br></pre></td></tr></table></figure><p>Result of <strong><code>‚Äî trace-gc</code></strong></p><p><code>[1841:0x2555580] 82 ms: Scavenge 3.4 (6.3) -&gt; 3.1 (7.3) MB, 1.9 / 0.0 ms allocation failure [1841:0x2555580] 102 ms: Scavenge 3.6 (7.3) -&gt; 3.5 (8.3) MB, 1.9 / 0.0 ms allocation failure **4919768**</code></p><p><em>ES6‚Äôs Function Destructuring Assignment.</em></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">add</span>(<span class="params">&#123;a,b&#125;</span>) </span>&#123;</span><br><span class="line"> <span class="keyword">return</span> a + b</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; <span class="number">1e8</span>; i++)&#123;</span><br><span class="line"> <span class="keyword">const</span> d = add(&#123;<span class="attr">a</span>:<span class="number">1</span>,<span class="attr">b</span>:<span class="number">2</span>&#125;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(%GetHeapUsage())</span><br></pre></td></tr></table></figure><p>Result of <strong><code>‚Äî trace-gc</code></strong></p><p><code>[5054:0x245d570] 60 ms: Scavenge 3.4 (6.3) -&gt; 3.1 (7.3) MB, 1.1 / 0.0 ms allocation failure [5054:0x245d570] 77 ms: Scavenge 3.6 (7.3) -&gt; 3.5 (8.3) MB, 1.3 / 0.0 ms allocation failure [5054:0x245d570] 109 ms: Scavenge 4.8 (8.3) -&gt; 4.6 (11.3) MB, 0.5 / 0.0 ms allocation failure **5762568**</code></p><p>But does it means in <em>ES6‚Äôs Function Destructuring Assignment</em> we have more memory allocation, <strong>NO as here most of the memory difference is due to the object creation overhead in each loop.</strong></p><p>Because if we try to test the <em>ES6‚Äôs Function Destructuring Assignment</em> with constant object outside the loop we would‚Äôt get much memory difference, from the <em>function parameters.</em></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> ob = &#123; <span class="attr">a</span>: <span class="number">1</span>, <span class="attr">b</span>: <span class="number">2</span> &#125;;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; <span class="number">1e8</span>; i++) &#123;</span><br><span class="line">  <span class="keyword">const</span> d = add(ob);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>GC result when object was created only once.</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[6607:0x2f5c570]       43 ms: Scavenge 3.4 (6.3) -&gt; 3.1 (7.3) MB, 0.8 / 0.0 ms  allocation failure</span><br><span class="line">[6607:0x2f5c570]       52 ms: Scavenge 3.6 (7.3) -&gt; 3.5 (8.3) MB, 0.8 / 0.0 ms  allocation failure</span><br><span class="line">**4921672**</span><br></pre></td></tr></table></figure><p>So we have almost the same memory utilization as the functional parameter case.</p><blockquote><p>So in the case of <em>ES6‚Äôs Function Destructuring Assignment</em> the memory utilization difference is directly dependent upon how we are creating the object.</p></blockquote><p>Also if we see verbose GC detailed information in the case of <code>const d = add({a:1,b:2})</code>, we will see that most of these allocation happens in new space region, so the cost of these clean-up is still relatively small (&lt;1 ms), but this may impact the performance of the application (depending upon the application use case) because the Garbage Collector in V8 is <strong>generational, stop-the-world garbage collector.</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line">[21108:0x3618540] Shrinking page 0x2197c4500000: end 0x2197c4580000 -&gt; 0x2197c454f000</span><br><span class="line">[21108:0x3618540] Shrinking page 0x7900a700000: end 0x7900a780000 -&gt; 0x7900a705000</span><br><span class="line">[21108:0x3618540] Fast promotion mode: false survival rate: 61%</span><br><span class="line">[21108:0x3618540]       32 ms: Scavenge 3.4 (6.3) -&gt; 3.1 (7.3) MB, 0.8 / 0.0 ms  allocation failure</span><br><span class="line">[21108:0x3618540] Memory allocator,   used:   7504 KB, available: 1458864 KB</span><br><span class="line">[21108:0x3618540] New space,          used:    652 KB, available:    354 KB, committed:   2048 KB</span><br><span class="line">[21108:0x3618540] Old space,          used:   1066 KB, available:     46 KB, committed:   1340 KB</span><br><span class="line">[21108:0x3618540] Code space,         used:   1191 KB, available:      0 KB, committed:   2048KB</span><br><span class="line">[21108:0x3618540] Map space,          used:    240 KB, available:      0 KB, committed:    532 KB</span><br><span class="line">[21108:0x3618540] Large object space, used:      0 KB, available: 1458343 KB, committed:      0 KB</span><br><span class="line">[21108:0x3618540] All spaces,         used:   3150 KB, available: 1458744 KB, committed:   5968KB</span><br><span class="line">[21108:0x3618540] External memory reported:      8 KB</span><br><span class="line">[21108:0x3618540] External memory global 0 KB</span><br><span class="line">[21108:0x3618540] Total time spent in GC  : 0.8 ms</span><br><span class="line">[21108:0x3618540] Fast promotion mode: false survival rate: 88%</span><br><span class="line">[21108:0x3618540]       42 ms: Scavenge 3.6 (7.3) -&gt; 3.5 (8.3) MB, 1.3 / 0.0 ms  allocation failure</span><br><span class="line">[21108:0x3618540] Memory allocator,   used:   8528 KB, available: 1457840 KB</span><br><span class="line">[21108:0x3618540] New space,          used:    273 KB, available:    733 KB, committed:   2048 KB</span><br><span class="line">[21108:0x3618540] Old space,          used:   1838 KB, available:    438 KB, committed:   2364 KB</span><br><span class="line">[21108:0x3618540] Code space,         used:   1191 KB, available:      0 KB, committed:   2048KB</span><br><span class="line">[21108:0x3618540] Map space,          used:    261 KB, available:      0 KB, committed:    532 KB</span><br><span class="line">[21108:0x3618540] Large object space, used:      0 KB, available: 1457319 KB, committed:      0 KB</span><br><span class="line">[21108:0x3618540] All spaces,         used:   3565 KB, available: 1458491 KB, committed:   6992KB</span><br><span class="line">[21108:0x3618540] External memory reported:      8 KB</span><br><span class="line">[21108:0x3618540] External memory global 0 KB</span><br><span class="line">[21108:0x3618540] Total time spent in GC  : 2.0 ms</span><br><span class="line">[21108:0x3618540] Fast promotion mode: false survival rate: 38%</span><br><span class="line">[21108:0x3618540]       65 ms: Scavenge 4.8 (8.3) -&gt; 4.6 (11.3) MB, 0.7 / 0.0 ms  allocation failure</span><br><span class="line">[21108:0x3618540] Memory allocator,   used:  11600 KB, available: 1454768 KB</span><br><span class="line">[21108:0x3618540] New space,          used:    549 KB, available:   1464 KB, committed:   4096 KB</span><br><span class="line">[21108:0x3618540] Old space,          used:   2580 KB, available:    736 KB, committed:   3388 KB</span><br><span class="line">[21108:0x3618540] Code space,         used:   1193 KB, available:      0 KB, committed:   2048KB</span><br><span class="line">[21108:0x3618540] Map space,          used:    361 KB, available:      0 KB, committed:    532 KB</span><br><span class="line">[21108:0x3618540] Large object space, used:      0 KB, available: 1454247 KB, committed:      0 KB</span><br><span class="line">[21108:0x3618540] All spaces,         used:   4684 KB, available: 1456448 KB, committed:  10064KB</span><br><span class="line">[21108:0x3618540] External memory reported:      8 KB</span><br><span class="line">[21108:0x3618540] External memory global 0 KB</span><br><span class="line">[21108:0x3618540] Total time spent in GC  : 2.7 ms</span><br></pre></td></tr></table></figure><p><img src="https://cdn-images-1.medium.com/max/1600/1*04yjvLJeNoC4p7AHmzwSww.png" alt>How to Read‚Ää‚Äî‚Äätrace_gc flag node.js</p><blockquote><p>Though we have a <strong>evident Computational penalty of using ES6‚Äôs Function Destructuring Assignment,</strong> the memory penalty depends upon the use case.</p></blockquote><p>At first glance, we might be tempted to do premature optimization but for business we should prefer the readability, and also in this case for the code sample above, we have seen the results, still there is a very high probability that final benchmark will differ from project to project in real world because V8 performs lots of optimization with different mechanism eg. <a href="https://v8project.blogspot.com/2017/09/disabling-escape-analysis.html" target="_blank" rel="noopener">escape analysis</a> on destructuring, and we might never have to worry about this in most of the cases.</p><hr></div></article><p class="article-content share_center"><strong>Learned something? Share üëè to help others find this article.</strong></p><div class="share share_center"><ul class="share__list"><li class="share__item"><a href="https://twitter.com/share?text=ES6‚Äôs Function Destructuring Assignment Is Not A Free Lunch.&amp;url=http://blog.ankuranand.com/2018/06/29/es6s-function-destructuring-assignment-is-not-free-lunch/index.html&amp;via=in_aanand" target="_blank"><svg class="icon share__icon share__icon--twitter"><use xlink:href="#icon-twitter" xmlns:xlink="https://www.w3.org/1999/xlink"/></svg> Tweet this</a></li></ul></div><div class="box-prev-next clearfix" style="margin-top:10px"><a class="show pull-left" href="/2018/06/15/Implement-your-own-call-apply-and-bind-method-in-JavaScript/"><i class="icon icon-angle-left"></i> </a><a class="show pull-right" href="/2018/08/28/building-a-simple-single-sign-on-sso-server-and-solution-from-scratch-in-node-js/"><i class="icon icon-angle-right"></i></a></div></div><a id="backTop" class="back-top"><i class="icon-angle-up"></i></a><div class="modal" id="modal"><span id="cover" class="cover hide"></span><div id="modal-dialog" class="modal-dialog hide-dialog"><div class="modal-header"><span id="close" class="btn-close">Close</span></div><hr><div class="modal-body"><ul class="list-toolbox"><li class="item-toolbox"><a class="CIRCLE" href="https://ankuranand.com" rel="noopener noreferrer" target="_self">About</a></li><li class="item-toolbox"><a class="CIRCLE" href="/atom.xml" rel="noopener noreferrer" target="_blank">RSS</a></li><li class="item-toolbox"><a class="CIRCLE" href="/search/" rel="noopener noreferrer" target="_self">Search</a></li></ul></div></div></div><div class="fexo-comments comments-post"><div id="gitalk-container"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.css"><script src="https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.min.js"></script><script>const gitalk = new Gitalk({
  clientID: 'Infinity',
  clientSecret: '9ac2991775db990e81299dfa99a114395b58de3a',
  repo: 'blog',
  owner: 'ankur-anand',
  id: location.pathname.split('/')[4].substring(0, 45),
  // id: location.pathname,
  admin: ['ankur-anand'],
  labels: ['gicomment'],
  // facebook-like distraction free mode
  distractionFreeMode: false
})
gitalk.render('gitalk-container')</script></div><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.3.0/css/font-awesome.min.css"><script type="text/javascript">function loadScript(e,t){var a=document.createElement("script");a.type="text/javascript",a.readyState?a.onreadystatechange=function(){"loaded"!=a.readyState&&"complete"!=a.readyState||(a.onreadystatechange=null,t())}:a.onload=function(){t()},a.src=e,document.getElementsByTagName("head")[0].appendChild(a)}window.onload=function(){loadScript("/js/bundle.js?235683",function(){})}</script><div class="svg-holder"><svg xmlns="https://www.w3.org/2000/svg"><symbol viewbox="0 0 32 32" id="icon-twitter"><title>twitter</title><path d="M31,6.696c-1.103,0.489-2.291,0.82-3.536,0.969c1.271-0.762,2.247-1.968,2.708-3.404c-1.189,0.705-2.508,1.218-3.909,1.493
          c-1.122-1.196-2.723-1.943-4.493-1.943c-3.398,0-6.154,2.755-6.154,6.154c0,0.483,0.055,0.953,0.159,1.402
          C10.66,11.111,6.125,8.66,3.089,4.937C2.561,5.846,2.256,6.902,2.256,8.031c0,2.135,1.086,4.019,2.737,5.123
          c-1.009-0.031-1.957-0.309-2.786-0.77c-0.002,0.025-0.002,0.052-0.002,0.078c0,2.982,2.122,5.469,4.937,6.034
          c-0.517,0.142-1.061,0.217-1.622,0.217c-0.396,0-0.782-0.039-1.158-0.112c0.784,2.444,3.057,4.225,5.75,4.274
          c-2.105,1.651-4.761,2.635-7.645,2.635c-0.496,0-0.985-0.029-1.467-0.086c2.723,1.746,5.958,2.765,9.434,2.765
          c11.321,0,17.512-9.379,17.512-17.512c0-0.268-0.005-0.533-0.018-0.796C29.131,9.014,30.174,7.93,31,6.696L31,6.696z"/></symbol></svg></div><script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script type="text/x-mathjax-config">MathJax.Hub.Config({
    tex2jax: {
      inlineMath: [ ['$','$'], ["\\(","\\)"] ],
      processEscapes: true
    }
  });</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async></script></body>